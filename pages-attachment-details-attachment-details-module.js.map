{"version":3,"sources":["webpack:///./src/app/pages/attachment-details/attachment-details.component.html","webpack:///./src/app/pages/attachment-details/attachment-details.component.scss","webpack:///./src/app/pages/attachment-details/attachment-details.component.ts","webpack:///./src/app/pages/attachment-details/attachment-details.module.ts"],"names":[],"mappings":"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","file":"pages-attachment-details-attachment-details-module.js","sourcesContent":["module.exports = \"<section class=\\\"bg-grey mt-120\\\">\\r\\n  <div flexLayout>\\r\\n    <div class=\\\"bg-gray custm_dash\\\">\\r\\n      <div class=\\\"container\\\">\\r\\n        <div class=\\\"col-md-3 white-500-bg pr-0\\\">\\r\\n          <div class=\\\"width-100 inline-block pdd-btm-20 pdd-top-20 border bottom\\\">\\r\\n            <img class=\\\"pull-left mrg-right-10\\\" [src]=\\\"icons[attachment.extension]\\\" alt=\\\"thumbnail\\\">\\r\\n            <h5 class=\\\"font-weight-semi-bold ls-0 mt-30 color-444\\\">{{attachment.name}}</h5>\\r\\n            <p class=\\\"color-666 ls-0 font-weight-500\\\">Status: <span class=\\\"primary-500-fg\\\">{{ fileStatus[attachment.status]}}</span></p>\\r\\n          </div>\\r\\n          <div class=\\\"pdd-btm-20 pdd-top-25 border bottom\\\">\\r\\n            <h5 class=\\\"font-weight-semi-bold ls-0\\\"><img src=\\\"assets/images/main/calender.png\\\" alt=\\\"image\\\"> &nbsp;\\r\\n              Upload Date Range</h5>\\r\\n            <ul class=\\\"mrg-left-35\\\">\\r\\n              <li class=\\\"font-size-14\\\">{{ attachment.createdOn | date : 'MM/dd/yyyy'}}</li>\\r\\n              <li class=\\\"font-size-14 font-weight-500 mrg-top-10\\\">Expires on</li>\\r\\n              <li class=\\\"font-size-14 mrg-top-5\\\">{{ attachment.expiredOn | date: 'MM/dd/yyyy'}}</li>\\r\\n              <li class=\\\"font-size-14 font-weight-500 mrg-top-10\\\">Purges on</li>\\r\\n              <li class=\\\"font-size-14 mrg-top-5\\\">{{ attachment.purgedOn | date: 'MM/dd/yyyy'}}</li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <div class=\\\"pdd-btm-20 pdd-top-25 border bottom\\\">\\r\\n            <h5 class=\\\"font-weight-semi-bold ls-0\\\"><img src=\\\"assets/images/main/dwnload.png\\\" alt=\\\"image\\\"> &nbsp;\\r\\n              Downloads</h5>\\r\\n            <ul class=\\\"mrg-left-35\\\">\\r\\n              <li class=\\\"font-size-14\\\">{{attachment.totalDownload}} of {{attachment.downloadLimit}}</li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <div class=\\\"pdd-btm-20 pdd-top-25 border bottom\\\">\\r\\n            <h5 class=\\\"font-weight-semi-bold ls-0\\\"><img src=\\\"assets/images/main/pay.png\\\" alt=\\\"image\\\"> &nbsp; Payments</h5>\\r\\n            <ul class=\\\"mrg-left-35\\\">\\r\\n              <li class=\\\"font-size-14\\\">${{attachment.payments}}</li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <div class=\\\"pdd-btm-20 pdd-top-25\\\">\\r\\n            <h5 class=\\\"font-weight-semi-bold ls-0\\\"><img src=\\\"assets/images/main/upload_by.png\\\" alt=\\\"image\\\"> &nbsp;\\r\\n              Uploaded by</h5>\\r\\n            <ul class=\\\"mrg-left-35\\\">\\r\\n              <!-- <li class=\\\"font-size-14\\\">{{attachment.uploadedBy}}</li> -->\\r\\n              <li class=\\\"font-size-14\\\" *ngIf=\\\"userTypeEnum.Normal == userType\\\">Web Send</li>\\r\\n              <li class=\\\"font-size-14\\\" *ngIf=\\\"userTypeEnum.GuestLink == userType\\\">Guest</li>\\r\\n            </ul>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-9 bg-gray pdd-left-30 min-height-700\\\">\\r\\n          <div class=\\\"mt-24 mb-24 width-100 inline-block\\\">\\r\\n            <h2 class=\\\"mt-0 mb-10 font-size-20 font-weight-semi-bold\\\">History - File Details</h2>\\r\\n            <!-- <p class=\\\"mrg-top-15 font-weight-500 font-size-16 color-444\\\"> {{ attachment.attachmentName}} \\r\\n                <a href=\\\"javasrcipt:void()\\\" class=\\\"pdd-left-5 pdd-right-10\\\"><img src=\\\"assets/images/main/edit_icon.png\\\" alt=\\\"icon\\\"></a>  -->\\r\\n            <am-attachment-name [attachment]=\\\"attachment\\\" class=\\\"inline-block\\\"></am-attachment-name>\\r\\n            <span class=\\\"font-weight-light color-444 font-size-16 pdd-left-15 pdd-right-15\\\">|</span>\\r\\n            <span class=\\\"font-size-13 font-weight-normal\\\">Size {{ attachment.attachmentSize }} MB | {{\\r\\n              attachment.filesDetail?.length }} {{attachment.filesDetail?.length === 1 ? 'File' : 'Files'}}</span>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-3 mb-30\\\" *ngFor=\\\"let attachmentDetail of attachment.filesDetail\\\">\\r\\n              <mat-card>\\r\\n                <div class=\\\"p-0 text-center\\\">\\r\\n                  <!-- <img src=\\\"assets/images/main/ppt.png\\\" alt=\\\"Excel\\\"> -->\\r\\n                  <ng-template [ngIf]=\\\"attachmentDetail.isImage\\\" [ngIfElse]=\\\"otherfiles\\\">\\r\\n                    <img [src]=\\\"attachmentDetail.fileURL\\\" alt=\\\"thumbnail\\\" class=\\\"max-width-100\\\">\\r\\n                  </ng-template>\\r\\n                  <ng-template #otherfiles>\\r\\n                    <img [src]=\\\"icons[attachmentDetail.extension]\\\" alt=\\\"thumbnail\\\" class=\\\"max-width-100\\\">\\r\\n                  </ng-template>\\r\\n                  <p class=\\\"m-0 pdd-top-15 color-666 font-size-13 font-weight-500 lh-1-1 ls-0 ellipsis\\\">{{attachmentDetail.fileName}}</p>\\r\\n                </div>\\r\\n              </mat-card>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"card p-20\\\">\\r\\n            <div class=\\\"mb-10\\\">\\r\\n              <am-download-link [name]=\\\"attachment.downloadURL\\\"></am-download-link>\\r\\n            </div>\\r\\n            <div>\\r\\n              <am-settings [expirySettings]=\\\"expirySettings\\\" [notificationSettings]=\\\"notificationSettings\\\"\\r\\n              [securitySettings]=\\\"securitySettings\\\"></am-settings>\\r\\n            </div>\\r\\n            <div class=\\\"detail_active_log mt-30\\\">\\r\\n                  <h4 class=\\\"font-size-16 font-weight-semi-bold color-444\\\">Activity Log</h4>\\r\\n                  <ul class=\\\"pdd-vertical-10 border mb-30 font-size-15 font-weight-500 color-444\\\">\\r\\n                    <li>File Set to Archive on 1/18/18 at 3.30 pm  by Mark Dev.</li>\\r\\n                    <li>Download Notification 1/18/18 at 2:35pm sent to sms to 858-837-2491</li>\\r\\n                    <li>Downloaded on 1/18/18 at 2:35pm (PT) by IP address 1.12331.2155921 by email address &lt;form data&gt; from \\r\\n                        www.atmo.re/1231234</li>\\r\\n                    <li>Download Notification 1/18/18 at 2:35pm sent to sms to 858-837-2491</li>\\r\\n                  </ul>\\r\\n                  <h4 class=\\\"font-size-16 m-0 font-weight-semi-bold color-444\\\">Assigned Download Page</h4>\\r\\n                  <mat-form-field>\\r\\n                    <mat-select placeholder=\\\"Attachmore Default\\\" class=\\\"font-size-15\\\">\\r\\n                      <mat-option value=\\\"5\\\">5</mat-option>\\r\\n                      <mat-option value=\\\"4\\\">4</mat-option>\\r\\n                      <mat-option value=\\\"3\\\">3</mat-option>\\r\\n                      <mat-option value=\\\"2\\\">2</mat-option>\\r\\n                      <mat-option value=\\\"1\\\">1</mat-option>\\r\\n                    </mat-select>\\r\\n                  </mat-form-field>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</section>\"","module.exports = \".heading-1:before {\\n  background-color: transparent; }\\n\\n.font-weight-500 {\\n  font-weight: 500; }\\n\\n.max-width-100 {\\n  max-width: 100%; }\\n\\n.min-height-600 {\\n  min-height: 600px; }\\n\\n.min-height-700 {\\n  min-height: 700px; }\\n\\n.color-444 {\\n  color: #444444 !important; }\\n\\n.color-666 {\\n  color: #666666 !important; }\\n\\n.custm_dash {\\n  position: relative; }\\n\\n.custm_dash:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 45%;\\n  height: 100%;\\n  background: #fff; }\\n\\n.attachment_status {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  margin: 5px;\\n  font-size: 10px;\\n  border: 1px solid;\\n  padding: 1px 4px 0;\\n  border-radius: 2px; }\\n\\n.active.attachment_status {\\n  border-color: #5fb028;\\n  color: #5fb028; }\\n\\n.attachment_status.expired {\\n  border-color: #fb0e0e;\\n  color: #fb0e0e; }\\n\\n.mat-checkbox-frame {\\n  border: 1px solid #ccc !important; }\\n\\n.expiry-tab .mat-form-field {\\n  width: 28%; }\\n\\n.detail_active_log ul li {\\n  padding: 5px 10px 5px 40px;\\n  position: relative; }\\n\\n.detail_active_log ul li:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  width: 16px;\\n  height: 9px;\\n  border-bottom: 3px solid #2e71f0;\\n  border-left: 3px solid #2e71f0;\\n  -webkit-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n  left: 12px;\\n  top: 9px;\\n  box-sizing: border-box; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYXR0YWNobWVudC1kZXRhaWxzL0M6XFxXT1JLU1BBQ0VcXERPVC1ORVRcXGF0dGFjaG1vcmVcXEF0dGFjaE1vcmUuV2ViL3NyY1xcYXBwXFxwYWdlc1xcYXR0YWNobWVudC1kZXRhaWxzXFxhdHRhY2htZW50LWRldGFpbHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSw4QkFBNkIsRUFDaEM7O0FBQ0Q7RUFDSSxpQkFBZ0IsRUFDbkI7O0FBQ0Q7RUFDSSxnQkFBZSxFQUNsQjs7QUFDRDtFQUNJLGtCQUFpQixFQUNwQjs7QUFDRDtFQUNJLGtCQUFpQixFQUNwQjs7QUFDRDtFQUNJLDBCQUF5QixFQUM1Qjs7QUFDRDtFQUNJLDBCQUF5QixFQUM1Qjs7QUFDRDtFQUNJLG1CQUFrQixFQUNyQjs7QUFDRDtFQUNJLFlBQVc7RUFDWCxtQkFBa0I7RUFDbEIsT0FBSztFQUNMLFFBQU87RUFDUCxXQUFVO0VBQ1YsYUFBWTtFQUNaLGlCQUFnQixFQUNuQjs7QUFDRDtFQUNJLG1CQUFrQjtFQUNsQixPQUFNO0VBQ04sU0FBUTtFQUNSLFlBQVc7RUFDWCxnQkFBZTtFQUNmLGtCQUFpQjtFQUNqQixtQkFBa0I7RUFDbEIsbUJBQWtCLEVBQ3JCOztBQUVEO0VBQ0ksc0JBQXFCO0VBQ3JCLGVBQWMsRUFDakI7O0FBRUQ7RUFDSSxzQkFBcUI7RUFDckIsZUFBYyxFQUNqQjs7QUFDRDtFQUNJLGtDQUFpQyxFQUNwQzs7QUFDRDtFQUNJLFdBQ0osRUFBQzs7QUFFRDtFQUNJLDJCQUEwQjtFQUMxQixtQkFBaUIsRUFDcEI7O0FBQ0Q7RUFDSSxZQUFXO0VBQ1gsbUJBQWtCO0VBQ2xCLFlBQVc7RUFDWCxZQUFXO0VBQ1gsaUNBQWdDO0VBQ2hDLCtCQUE4QjtFQUM5QixrQ0FBeUI7VUFBekIsMEJBQXlCO0VBQ3pCLFdBQVU7RUFDVixTQUFRO0VBQ1IsdUJBQXNCLEVBQ3pCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYXR0YWNobWVudC1kZXRhaWxzL2F0dGFjaG1lbnQtZGV0YWlscy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5oZWFkaW5nLTE6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG59XHJcbi5mb250LXdlaWdodC01MDB7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcbi5tYXgtd2lkdGgtMTAwe1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG59XHJcbi5taW4taGVpZ2h0LTYwMHtcclxuICAgIG1pbi1oZWlnaHQ6IDYwMHB4O1xyXG59XHJcbi5taW4taGVpZ2h0LTcwMHtcclxuICAgIG1pbi1oZWlnaHQ6IDcwMHB4O1xyXG59XHJcbi5jb2xvci00NDR7XHJcbiAgICBjb2xvcjogIzQ0NDQ0NCAhaW1wb3J0YW50O1xyXG59XHJcbi5jb2xvci02NjZ7XHJcbiAgICBjb2xvcjogIzY2NjY2NiAhaW1wb3J0YW50O1xyXG59XHJcbi5jdXN0bV9kYXNoe1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcbi5jdXN0bV9kYXNoOmJlZm9yZXtcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6MDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogNDUlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZDogI2ZmZjtcclxufVxyXG4uYXR0YWNobWVudF9zdGF0dXMge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBtYXJnaW46IDVweDtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkO1xyXG4gICAgcGFkZGluZzogMXB4IDRweCAwO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG59XHJcblxyXG4uYWN0aXZlLmF0dGFjaG1lbnRfc3RhdHVzIHtcclxuICAgIGJvcmRlci1jb2xvcjogIzVmYjAyODtcclxuICAgIGNvbG9yOiAjNWZiMDI4O1xyXG59XHJcblxyXG4uYXR0YWNobWVudF9zdGF0dXMuZXhwaXJlZCB7XHJcbiAgICBib3JkZXItY29sb3I6ICNmYjBlMGU7XHJcbiAgICBjb2xvcjogI2ZiMGUwZTtcclxufVxyXG4ubWF0LWNoZWNrYm94LWZyYW1le1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYyAhaW1wb3J0YW50O1xyXG59XHJcbi5leHBpcnktdGFiIC5tYXQtZm9ybS1maWVsZCB7XHJcbiAgICB3aWR0aDogMjglXHJcbn1cclxuXHJcbi5kZXRhaWxfYWN0aXZlX2xvZyB1bCBsaSB7XHJcbiAgICBwYWRkaW5nOiA1cHggMTBweCA1cHggNDBweDtcclxuICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG59XHJcbi5kZXRhaWxfYWN0aXZlX2xvZyB1bCBsaTpiZWZvcmUge1xyXG4gICAgY29udGVudDogXCJcIjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHdpZHRoOiAxNnB4O1xyXG4gICAgaGVpZ2h0OiA5cHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzJlNzFmMDtcclxuICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgIzJlNzFmMDtcclxuICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XHJcbiAgICBsZWZ0OiAxMnB4O1xyXG4gICAgdG9wOiA5cHg7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { DashboardService } from '../../services/dashboard.service';\r\nimport { AttachmentDetails, ExpirySettings, NotificationSettings, SecuritySettings } from 'src/app/models';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { ICONS_MAPPER } from '../../untility';\r\nimport { FileStatus, UserType } from 'src/app/enum';\r\n\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'am-attachment-details',\r\n  templateUrl: './attachment-details.component.html',\r\n  styleUrls: ['./attachment-details.component.scss']\r\n})\r\nexport class AttachmentDetailsComponent implements OnInit {\r\n\r\n  attachment: AttachmentDetails = <AttachmentDetails>{};\r\n  icons = ICONS_MAPPER;\r\n  fileStatus = FileStatus;\r\n  expirySettings: ExpirySettings = <ExpirySettings>{};\r\n  notificationSettings: NotificationSettings = <NotificationSettings>{};\r\n  securitySettings: SecuritySettings = <SecuritySettings>{};\r\n  userType: UserType;\r\n  userTypeEnum = UserType;\r\n\r\n  constructor(private route: ActivatedRoute, public dashboardService: DashboardService) { }\r\n\r\n  ngOnInit() {\r\n    this.route.queryParams.subscribe((res) => {\r\n      this.userType = res.userType;\r\n    });\r\n    this.route.params.subscribe((res: Params) => {\r\n\r\n      this.dashboardService.getAttachmentDetails(+res.id).subscribe(response => {\r\n        this.getFilesExtension(response);\r\n        this.intializeSettings(response);\r\n      });\r\n    });\r\n  }\r\n\r\n  intializeSettings(attachmentPreview: AttachmentDetails) {\r\n    this.expirySettings = {\r\n      attachmentId: attachmentPreview.attachmentId,\r\n      downloadsLimit: attachmentPreview.downloadLimit,\r\n      expiryDate: moment(attachmentPreview.expiredOn),\r\n      deletionDate: moment(attachmentPreview.deleteAfter)\r\n    };\r\n\r\n    this.notificationSettings = {\r\n      attachmentId: attachmentPreview.attachmentId,\r\n      whenExpired: attachmentPreview.whenExpired,\r\n      whenDownload: attachmentPreview.whenDownload,\r\n      byEmail: attachmentPreview.byEmail,\r\n      byText: attachmentPreview.byText,\r\n      notifyInfo: [{\r\n        notifyType: '1',\r\n        NotiicationSendOn: ''\r\n      }]\r\n    };\r\n\r\n    this.securitySettings = {\r\n      attachmentId: attachmentPreview.attachmentId,\r\n      accessPassword: attachmentPreview.accessPassword,\r\n      accessEmail: attachmentPreview.accessEmail,\r\n      accessName: attachmentPreview.accessName,\r\n      accessCompany: attachmentPreview.accessCompany,\r\n      accessContactNumber: attachmentPreview.accessContectNumber,\r\n      accessPayment: attachmentPreview.accessPayment\r\n    };\r\n  }\r\n  /**\r\n   * Get files extension\r\n   * @param res\r\n   */\r\n  getFilesExtension(attachmentPreview: AttachmentDetails): void {\r\n    attachmentPreview.filesDetail.forEach((file) => {\r\n      file.extension = file.fileName.split('.').pop().toLowerCase();\r\n      file.isImage = file.fileType.includes('image');\r\n    });\r\n\r\n    this.attachment = this.getAttachmentExtension(attachmentPreview);\r\n  }\r\n\r\n  /**\r\n  * Get Attachment extension\r\n  * @param attachmentPreview\r\n  */\r\n  getAttachmentExtension(attachmentPreview: AttachmentDetails) {\r\n    if (attachmentPreview.filesDetail.length === 1) {\r\n      attachmentPreview.extension = attachmentPreview.filesDetail[0].extension;\r\n      attachmentPreview.isImage = attachmentPreview.filesDetail[0].isImage;\r\n    } else if (attachmentPreview.filesDetail.length > 1) {\r\n      attachmentPreview.extension = 'zip';\r\n      attachmentPreview.isImage = false;\r\n    } else {\r\n      attachmentPreview.extension = null;\r\n      attachmentPreview.isImage = false;\r\n    }\r\n    return attachmentPreview;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Route } from '@angular/router';\r\n\r\nimport { AmSharedModule } from '../../shared/am-shared.module';\r\nimport { AttachmentDetailsComponent } from './attachment-details.component';\r\n\r\nconst ATTACHMENTDETAILS_ROUTES: Route[] = [\r\n  {\r\n    path: ':id', component: AttachmentDetailsComponent\r\n  }\r\n];\r\n\r\n\r\n@NgModule({\r\n  declarations: [AttachmentDetailsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(ATTACHMENTDETAILS_ROUTES),\r\n    AmSharedModule\r\n  ],\r\n})\r\nexport class AttachmentDetailsModule { }\r\n"],"sourceRoot":""}