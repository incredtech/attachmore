{"version":3,"sources":["webpack:///./src/app/pages/guest-links/guest-links.component.html","webpack:///./src/app/pages/guest-links/guest-links.component.scss","webpack:///./src/app/pages/guest-links/guest-links.component.ts","webpack:///./src/app/pages/guest-links/guest-links.module.ts"],"names":[],"mappings":"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","file":"pages-guest-links-guest-links-module.js","sourcesContent":["module.exports = \"<section class=\\\"bg-grey mt-110\\\">\\r\\n  <div class=\\\"container\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <h3 class=\\\"display-inline mrg-top-10\\\">Guest Links</h3>\\r\\n        <form class=\\\"pull-right display-inline\\\">\\r\\n          <label class=\\\"ver_align_top pdd-top-10\\\">Name Guest Link</label>   \\r\\n          <div class=\\\"display-inline mrg-right-10\\\">\\r\\n              <input type=\\\"text\\\" required placeholder=\\\"Enter Name\\\"\\r\\n              class=\\\"mrg-left-10 form-control \\\" [formControl]=\\\"linkName\\\">  \\r\\n              <am-bt-input-error-msg [control]=\\\"linkName\\\" class=\\\"mrg-btm-10 mrg-left-10 display-inline \\\"></am-bt-input-error-msg>\\r\\n           </div>      \\r\\n          <button mat-flat-button color=\\\"primary\\\"\\r\\n            class=\\\"border-radius-0 line-height-40 ver_align_top white-500-fg mrg-left-10 display-inline  \\\" (click)=\\\"createGuestLink()\\\">\\r\\n            Create Guest Link</button>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div flexLayout>\\r\\n    <div class=\\\"bg-gray custm_dash\\\">\\r\\n      <div class=\\\"container\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n            <div class=\\\"card padding-20 mrg-top-20 min-height-400\\\">\\r\\n              <h4 class=\\\"m-0 mrg-btm-15\\\">Guest Link History</h4>\\r\\n              <div class=\\\"table-responsive\\\">\\r\\n                <table class=\\\"table table-hover\\\">\\r\\n                  <thead class=\\\"grey-300-bg\\\">\\r\\n                    <tr>\\r\\n                      <th>Link Name</th>\\r\\n                      <th>Create Date</th>\\r\\n                      <th>Expire date</th>\\r\\n                      <th>Status</th>\\r\\n                      <th>Usage</th>\\r\\n                      <th>Options</th>\\r\\n                    </tr>\\r\\n                  </thead>\\r\\n                  <tbody>\\r\\n                    <tr *ngFor=\\\"let guestLink of guestLinks\\\">\\r\\n                      <td class=\\\"text-capitalize\\\">{{ guestLink.linkName }}</td>\\r\\n                      <td>{{ guestLink.creationDate | date }}</td>\\r\\n                      <td>{{ guestLink.expirySettings.expirationDate | date }}</td>\\r\\n                      <td class=\\\"text-capitalize\\\">{{ guestLinkStatus[guestLink.status] }}</td>\\r\\n                      <td>2 of 5</td>\\r\\n                      <td class=\\\"border-right-none\\\">\\r\\n                        <a class=\\\"text-behance\\\" routerLink=\\\"/filesHistory\\\" [queryParams]=\\\"{ userType: userTypeEnum.GuestLink, guestLink: guestLink.guestLinkID}\\\"> View Files |</a>\\r\\n                        <a class=\\\"text-behance cursor-pointer\\\" (click)=\\\"disableGuestLink(guestLink)\\\"> {{guestLink.status === guestLinkStatus.disable ? 'Enable' : 'Disable'}} | </a>\\r\\n                        <a class=\\\"text-behance pdd-top-10 cursor-pointer\\\" (click)=\\\"editGuestLink(guestLink)\\\">Edit </a>\\r\\n                      </td>\\r\\n                      <!-- <td>\\r\\n                        <table>\\r\\n                            <tr>\\r\\n                               <td>\\r\\n                                  <a class=\\\"text-behance\\\" routerLink=\\\"/filesHistory\\\" [queryParams]=\\\"{ userType: userTypeEnum.GuestLink, guestLink: guestLink.guestLinkID}\\\"> View Files |</a>\\r\\n                                </td>\\r\\n                               <td>\\r\\n                                  <a class=\\\"text-behance cursor-pointer\\\" (click)=\\\"disableGuestLink(guestLink)\\\"> Disable |</a>\\r\\n                                </td>\\r\\n                               <td>\\r\\n                                  <a class=\\\"text-behance pdd-top-10 cursor-pointer\\\" (click)=\\\"editGuestLink(guestLink)\\\">Edit </a>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </table>\\r\\n                      </td> -->\\r\\n                    </tr>\\r\\n                    <tr *ngIf=\\\"guestLinks && !guestLinks.length\\\">\\r\\n                      <td colspan=\\\"6\\\" class=\\\"text-center pdd-top-120 pdd-btm-130 font-size-24 font-weight-bold\\\">No Guest Link Found !!</td>\\r\\n                    </tr>\\r\\n                  </tbody>\\r\\n                </table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</section>\\r\\n\"","module.exports = \".table > tbody > tr > td {\\n  padding: 15px;\\n  font-size: 14px;\\n  background: #f6f4f4; }\\n\\n.table > thead > tr > th {\\n  font-size: 15px;\\n  padding: 15px;\\n  font-weight: 600;\\n  border-right: 1px solid #fff; }\\n\\n.line-height-40 {\\n  line-height: 40px; }\\n\\n.ver_align_top {\\n  vertical-align: top !important; }\\n\\n.table > tbody > tr > td {\\n  border-top: 1px solid #fff;\\n  border-right: 1px solid #fff; }\\n\\n.border-right-none {\\n  border-right: none !important; }\\n\\n.min-height-400 {\\n  min-height: 400px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZ3Vlc3QtbGlua3MvQzpcXFdPUktTUEFDRVxcRE9ULU5FVFxcYXR0YWNobW9yZVxcQXR0YWNoTW9yZS5XZWIvc3JjXFxhcHBcXHBhZ2VzXFxndWVzdC1saW5rc1xcZ3Vlc3QtbGlua3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFhO0VBQ2IsZ0JBQWU7RUFDZixvQkFBbUIsRUFDdEI7O0FBQ0Q7RUFDSSxnQkFBYztFQUNkLGNBQWE7RUFDYixpQkFBZTtFQUNmLDZCQUE0QixFQUMvQjs7QUFDRDtFQUNJLGtCQUFpQixFQUNwQjs7QUFDRDtFQUNJLCtCQUE4QixFQUNqQzs7QUFDRDtFQUNJLDJCQUEwQjtFQUMxQiw2QkFBNEIsRUFDL0I7O0FBQ0Q7RUFFSSw4QkFBNkIsRUFDaEM7O0FBQ0Q7RUFFRyxrQkFBZ0IsRUFDbEIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9ndWVzdC1saW5rcy9ndWVzdC1saW5rcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50YWJsZSA+IHRib2R5ID4gdHIgPiB0ZCB7XHJcbiAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgYmFja2dyb3VuZDogI2Y2ZjRmNDtcclxufVxyXG4udGFibGUgPiB0aGVhZCA+IHRyID4gdGgge1xyXG4gICAgZm9udC1zaXplOjE1cHg7XHJcbiAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgZm9udC13ZWlnaHQ6NjAwO1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2ZmZjtcclxufVxyXG4ubGluZS1oZWlnaHQtNDB7XHJcbiAgICBsaW5lLWhlaWdodDogNDBweDtcclxufVxyXG4udmVyX2FsaWduX3RvcHtcclxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3AgIWltcG9ydGFudDtcclxufVxyXG4udGFibGUgPiB0Ym9keSA+IHRyID4gdGQge1xyXG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNmZmY7XHJcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZmZmO1xyXG59XHJcbi5ib3JkZXItcmlnaHQtbm9uZVxyXG57XHJcbiAgICBib3JkZXItcmlnaHQ6IG5vbmUgIWltcG9ydGFudDtcclxufVxyXG4ubWluLWhlaWdodC00MDBcclxue1xyXG4gICBtaW4taGVpZ2h0OjQwMHB4O1xyXG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { GuestLink, GuestLinkExpirySettings, GuestLinkNotifySettings, GuestLinkSecuritySettings } from '../../models/guest-link.model';\r\nimport { GuestLinksService } from '../../services/guest-links.service';\r\nimport { DialogService } from 'src/app/services/dialog.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { UserType, GuestLinkStatus } from 'src/app/enum';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { MESSAGES } from 'src/app/configuration/success.msg';\r\n\r\n@Component({\r\n  selector: 'am-guest-links',\r\n  templateUrl: './guest-links.component.html',\r\n  styleUrls: ['./guest-links.component.scss']\r\n})\r\nexport class GuestLinksComponent implements OnInit {\r\n  guestLinks: GuestLink[];\r\n  linkName = new FormControl();\r\n  userTypeEnum = UserType;\r\n  guestLinkStatus = GuestLinkStatus;\r\n\r\n  constructor(\r\n    private guestLinksService: GuestLinksService,\r\n    private dialogService: DialogService,\r\n    private notificationService: NotificationService,\r\n    private guestLinkService: GuestLinksService) { }\r\n\r\n  ngOnInit() {\r\n    this.loadGuestLink();\r\n  }\r\n\r\n  /**\r\n   * load Guest link\r\n   */\r\n  loadGuestLink() {\r\n    this.guestLinksService.getGuestLinks().subscribe(res => {\r\n      this.guestLinks = res;\r\n    });\r\n  }\r\n\r\n  createGuestLink() {\r\n    if (this.linkName.invalid) {\r\n      return false;\r\n    }\r\n\r\n    const currentDate = new Date();\r\n    const guestLink = <GuestLink>{};\r\n    guestLink.linkName = this.linkName.value;\r\n    guestLink.status = 1;\r\n    guestLink.linkUrl = '';\r\n    guestLink.expirySettings = <GuestLinkExpirySettings>{\r\n      uploadLimit: 250,\r\n      numberOfUses: 5,\r\n      expirationDate: new Date(currentDate.setDate(currentDate.getDate() + 5)),\r\n      creationDate: new Date()\r\n    };\r\n    guestLink.notifySettings = <GuestLinkNotifySettings>{\r\n      onDownloaded: false,\r\n      onExpired: false,\r\n      byEmail: false,\r\n      byText: false,\r\n      creationDate: new Date()\r\n    };\r\n    guestLink.securitySettings = <GuestLinkSecuritySettings>{\r\n      email: false,\r\n      company: false,\r\n      name: false,\r\n      phone: false,\r\n      password: false,\r\n      passwordProtectedPage: false,\r\n      creationDate: new Date()\r\n    };\r\n\r\n    this.openGuestLink(guestLink, 'add');\r\n  }\r\n\r\n  editGuestLink(guestLink: GuestLink) {\r\n    guestLink.notifySettings = <GuestLinkNotifySettings>{\r\n      onDownloaded: false,\r\n      onExpired: false,\r\n      byEmail: false,\r\n      byText: false,\r\n      creationDate: new Date()\r\n    };\r\n    this.openGuestLink(guestLink, 'edit');\r\n  }\r\n\r\n  disableGuestLink(guestLink: GuestLink) {\r\n    if (guestLink.status === GuestLinkStatus.active) {\r\n      this.dialogService.confirmationDialog({\r\n        title: 'Disable Guest link',\r\n        message: 'Are you sure to want to disable link?',\r\n        buttonSuccessText: 'Yes'\r\n      }).subscribe(res => {\r\n        if (res) {\r\n          this.callApiToDisableLink(guestLink);\r\n        }\r\n      });\r\n    } else {\r\n      this.callApiToDisableLink(guestLink);\r\n    }\r\n  }\r\n\r\n  callApiToDisableLink(guestLink: GuestLink) {\r\n    const link = {\r\n      ...guestLink\r\n    };\r\n\r\n    link.status = link.status === GuestLinkStatus.disable ? GuestLinkStatus.active : GuestLinkStatus.disable;\r\n    this.guestLinkService.generateGuestLinks(link).subscribe(result => {\r\n      if (result) {\r\n        this.loadGuestLink();\r\n        this.notificationService.notify(MESSAGES.guestLinkNotification.replace('{0}',\r\n          result.status === GuestLinkStatus.disable ? 'disabled' : 'Enabled'));\r\n      }\r\n    });\r\n  }\r\n\r\n  openGuestLink(guestLink: GuestLink, type: string) {\r\n    this.dialogService.guestLinkDialog(guestLink).subscribe(res => {\r\n      // if (res) {\r\n        this.loadGuestLink();\r\n        this.notificationService.notify(MESSAGES.guestLinkNotification.replace('{0}', type === 'add' ? 'added' : 'updated'));\r\n      // }\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Route } from '@angular/router';\r\n\r\nimport { AmSharedModule } from '../../shared/am-shared.module';\r\nimport { GuestLinksComponent} from './guest-links.component';\r\n\r\n\r\nconst GUEST_LINK_ROUTES: Route[] = [\r\n  {\r\n    path: '', component: GuestLinksComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [GuestLinksComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(GUEST_LINK_ROUTES),\r\n    AmSharedModule\r\n  ]\r\n})\r\nexport class GuestLinksModule { }\r\n"],"sourceRoot":""}